<!DOCTYPE html>
<html lang="en">
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>天智教师考评</title>
    <link rel="stylesheet" href="../js/layui/css/layui.css">
    <link rel="stylesheet" href="../css/main.css">
</head>
<body class="layui-layout-body" style="background: #f4f8fb">
<div class="layui-layout layui-layout-admin">
    <div class="layui-header layui-bg-blue">
        <div class="layui-logo head" style="color:#fff;"><img src="../img/logo_login.png"/>天智教育</div>
        <!-- 头部区域（可配合layui已有的水平导航） -->
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item"><a href=""  style="color:#fff;">苏州天智软件学院中国IT培训专家</a></li>
        </ul>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">
                    <img src="../img/chrome.png" class="layui-nav-img">
                    Admin
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="">基本资料</a></dd>
                    <dd><a href="">安全设置</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item"><a href="../html/01login.html">退出</a></li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree"  lay-filter="test">
                <li class="layui-nav-item">
                    <a class="" href="javascript:;">考评管理</a>
                    <dl class="layui-nav-child dd">
                        <dd><a href="../html/02noex.html">未审查询</a></dd>
                        <dd><a href="../html/03yesex.html">已审查询</a></dd>
                        <dd><a href="../html/04kaopinglist.html">考评列表</a></dd>
                        <dd><a href="../html/05kaopingform.html">考评模板</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">班级管理</a>
                    <dl class="layui-nav-child dd">
                        <dd><a href="../html/06addclass.html">新增班级</a></dd>
                        <dd><a href="../html/07changeclass.html">修改班级</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item layui-nav-itemed">
                    <a href="javascript:;">统计分析</a>
                    <dl class="layui-nav-child dd">
                        <dd><a href="../html/08mouth.html">按月统计</a></dd>
                        <dd style="background: #000;"><a href="../html/09quarter.html">按季统计</a></dd>
                        <dd><a href="../html/10year.html">按年统计</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">用户管理</a>
                    <dl class="layui-nav-child dd">
                        <dd><a href="../html/11userlist.html">用户列表</a></dd>
                        <dd><a href="../html/12player.html">角色权限</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">个人中心</a>
                    <dl class="layui-nav-child dd">
                        <dd><a href="../html/13owninfo.html">个人信息</a></dd>
                        <dd><a href="../html/14password.html">修改密码</a></dd>
                    </dl>
                </li>
            </ul>
        </div>
    </div>

    <div class="layui-body" style="margin:20px 0 20px 20px;;">
        <!-- 内容主体区域 -->
        <div>
            <span>
                <a href="">统计分析</a>
                <a><cite style="color:#666;">按季统计</cite></a>
            </span>
            <div style="background: #fff;padding: 15px;margin-top:5px;">
                <blockquote class="layui-elem-quote find">季度报表查询</blockquote>
                <hr />
                <div class="layui-inline">
                    <label class="layui-form-label">月份选择：</label>
                    <div class="layui-input-inline">
                        <input type="text" class="layui-input" id="start" placeholder="起始月份">
                    </div>
                    -<div class="layui-input-inline">
                    <input type="text" class="layui-input" id="end" placeholder="结束月份" style="color: darkgrey;cursor: not-allowed;">
                </div>
                </div>
                <button id="find" class="layui-btn layui-bg-blue" style="margin-left: 10px;" lay-submit lay-filter="search">查询</button>
            </div>
            <div style="text-align: center;margin: 20px 0;"><p id="title"></p></div>
            <table class="layui-table" lay-skin="line" style="border:none;">
                <tr id="t1"></tr>
            </table>
            <table class="layui-table" lay-skin="line" style="border:none;">
                <tr id="t2"></tr>
            </table>
            <table class="layui-table" lay-skin="line" style="border:none;">
                <tr id="t3" ></tr>
            </table>
        </div>
    </div>

    <div class="layui-footer footer" style="line-height:20px;">
        <!-- 底部固定区域 -->
        &copy; 天创集团（中国）2017 版权所有<br/>
        TianZhi Education Student Feedback Sysytem | 天智教育学院反馈系统 | 2009-2020
    </div>
</div>
<script src="../js/layui/layui.js"></script>
<script src="../js/jquery-3.2.1.min.js"></script>
<script>
    //JavaScript代码区域
    layui.use('element', function(){
        var element = layui.element;

    });

    //Demo
    layui.use('form', function(){
        var form = layui.form;

        //监听提交
        form.on('submit(search)', function(data){
            layer.msg('数据加载错误~');
            return false;

        });
    });

    layui.use('laydate', function() {
        var laydate = layui.laydate;
        //年月选择器
        laydate.render({
            elem: '#start',
            type: 'month',
            change: function(value,date) {
                //点击具体日期/月份触发
                console.log(date)
                nyear = date.year;
                nmonth = date.month;
                value = new Date(nyear, nmonth + 2).getFullYear() + "-" + new Date(nyear, nmonth + 2).getMonth();
                $('#end').val(value);
            }
        });
    });


    $('#find').click(function (){
        $('#title').text("天智教育（苏州）学员评教"+ $('#test3').val() + '统计表')
        layui.use('table',function(){
            var table = layui.table;
            // 定义的数组
            var data = [{
                name: "张三",
                aver_m: 4.6,
                data: [{
                    id: 1,
                    name: "张三",
                    class: "jsd1222",
                    totalnum: 28,
                    effective_num: 20,
                    aver: 4.6,
                    date: "2017-08-16"
                }, {
                    id: 2,
                    name: "张三",
                    class: "jsd1222",
                    totalnum: 23,
                    effective_num: 20,
                    aver: 4.8,
                    date: "2017-08-13"
                }, {
                    id: 3,
                    name: "张三",
                    class: "jsd1222",
                    totalnum: 18,
                    effective_num: 15,
                    aver: 5,
                    date: "2017-07-16"
                }]
            }, {
                name: "李四",
                aver_m: 4.6,
                data: [{
                    id: 1,
                    name: "李四",
                    class: "jsd1222",
                    totalnum: 28,
                    effective_num: 20,
                    aver: 4.6,
                    date: "2017-08-16"
                }, {
                    id: 2,
                    name: "李四",
                    class: "jsd1222",
                    totalnum: 23,
                    effective_num: 20,
                    aver: 4.8,
                    date: "2017-08-13"
                }, {
                    id: 3,
                    name: "李四",
                    class: "jsd1222",
                    totalnum: 18,
                    effective_num: 15,
                    aver: 5,
                    date: "2017-07-16"
                }, {
                    id: 4,
                    name: "李四",
                    class: "jsd1222",
                    totalnum: 23,
                    effective_num: 20,
                    aver: 4.8,
                    date: "2017-08-13"
                }, {
                    id: 5,
                    name: "李四",
                    class: "jsd1222",
                    totalnum: 18,
                    effective_num: 15,
                    aver: 5,
                    date: "2017-07-16"
                }]

            }, {
                name: "王五",
                aver_m: 4.6,
                data: [{
                    id: 1,
                    name: "王五",
                    class: "jsd1222",
                    totalnum: 28,
                    effective_num: 20,
                    aver: 4.6,
                    date: "2017-08-16"
                }, {
                    id: 2,
                    name: "王五",
                    class: "jsd1222",
                    totalnum: 23,
                    effective_num: 20,
                    aver: 4.8,
                    date: "2017-08-13"
                }, {
                    id: 3,
                    name: "王五",
                    class: "jsd1222",
                    totalnum: 18,
                    effective_num: 15,
                    aver: 5,
                    date: "2017-07-16"
                }]

            }]

            table.render({
                elem:'#t1',
                data:data[0].data,
                width: 1200,
                layskin:"nob",
                layeven:"",
                cols: [
                    [ //表头
                        {
                            field: 'id',
                            title: '序号',
                        }, {
                        field: 'date',
                        title: '日期'
                    }, {
                        field: 'name',
                        title: '教员'
                    }, {
                        field: 'class',
                        title: '班级'
                    }, {
                        field: 'totalnum',
                        title: '总份数'
                    }, {
                        field: 'effective_num',
                        title: '有效份数'
                    }, {
                        field: 'aver',
                        title: '平均分'
                    }
                    ]
                ]
            })
            table.render({
                elem:'#t2',
                data:data[1].data,
                width: 1200,
                layskin:"nob",
                layeven:"",
                cols: [
                    [ //表头
                        {
                            field: 'id',
                            title: '序号',
                        }, {
                        field: 'date',
                        title: '日期'
                    }, {
                        field: 'name',
                        title: '教员'
                    }, {
                        field: 'class',
                        title: '班级'
                    }, {
                        field: 'totalnum',
                        title: '总份数'
                    }, {
                        field: 'effective_num',
                        title: '有效份数'
                    }, {
                        field: 'aver',
                        title: '平均分'
                    }
                    ]
                ]
            })
            table.render({
                elem:'#t3',
                data:data[2].data,
                width: 1200,
                layskin:"nob",
                layeven:"",
                cols: [
                    [ //表头
                        {
                            field: 'id',
                            title: '序号',
                        }, {
                        field: 'date',
                        title: '日期'
                    }, {
                        field: 'name',
                        title: '教员'
                    }, {
                        field: 'class',
                        title: '班级'
                    }, {
                        field: 'totalnum',
                        title: '总份数'
                    }, {
                        field: 'effective_num',
                        title: '有效份数'
                    }, {
                        field: 'aver',
                        title: '平均分'
                    }
                    ]
                ]
            })
        })
    })
</script>
</body>
</html>